/*! Yoodoo 2015-09-28 */

var yoodoo={classVersion:8,metaphor:1,htmldetect:!1,canHTML:!1,html5:!1,html5available:!1,flashdefault:!0,mobile:!1,dev:!1,ajax:!1,isApp:!1,fixedDimensions:null,language:"en",languageSeleactable:!1,class_prefix:"yd",defaults:{},fullyLoaded:!1,onceLoaded:{list:[],add:function(a){this.list.push(a)},run:function(){for(yoodoo.fullyLoaded=!0;this.list.length>0;){var a=this.list.shift();try{a()}catch(b){yoodoo.errorLog(b),console.log("Failed",a)}}}},ready:!1,onLoad:function(){},canApp:"onorientationchange"in window,is_touch:"ontouchstart"in document.documentElement,is_mouse:!("ontouchstart"in document.documentElement),wifi:navigator.connection&&navigator.connection.type==navigator.connection.WIFI?!0:!1,siteFolder:"sitegeneric",currentSiteFolder:"sitegeneric",widgets:[],intervention:null,containers:{},e:function(a){return document.createElement(a)},user:{},clearUser:function(){this.user={firstname:"",lastname:"",username:"",nickname:"",meta:{},metaUpdate:{},getName:function(){return""!=this.nickname?this.nickname:""!=this.firstname?this.firstname:this.username}},void 0!==this.groups&&this.groups.dispose()},errorLog:function(a){if(void 0===a.stack)return yoodoo.console(a),!1;var b=a.stack.match(/at [^\n]*(http[^\)]*\))/);if(null!==a.stack)if(null!==b&&void 0!==b[1]){b[1]=b[1].replace(/^.*(http|https).*\:\/\//,"");var c={error:a.message},d=b[1].match(/^([^\?^\:]*)[\?\:]/);c.url=null===d?"":d[1];var e=b[1].match(/^[^\:]*\:([^\:]*)/);c.line=null===e?"":e[1],void 0!==yoodoo.jsError&&yoodoo.jsError(c)}else void 0!==yoodoo.jsError&&yoodoo.jsError(a);else void 0!==yoodoo.jsError&&yoodoo.jsError(a)},actionLog:[],option:{width:788,height:466,autosize:!1,yoodooPortal:{url:"domain:remote"},prefix:"",dooitUrl:"domain:uploads/sitespecific/yoodoo.siteFolder/file/",baseUrl:"http://www.yoodidit.co.uk/",contentUrl:"http://www.yoodidit.co.uk/",videoUrl:"http://www.yoodidit.co.uk/",imageUrl:"http://www.yoodidit.co.uk/",audioUrl:"http://www.yoodidit.co.uk/",detectUrl:!0,urls:{generic:{file:{css:"domain:uploads/sitegeneric/file/css/",dooits:"domain:uploads/sitegeneric/file/dooits/",overlay:"domain:uploads/sitegeneric/file/overlay/",widgets:"domain:uploads/sitegeneric/file/widgets/"},flash:"domain:uploads/sitegeneric/flash/",image:"domain:uploads/sitegeneric/image/"},specific:{file:{css:"domain:uploads/sitespecific/yoodoo.siteFolder/file/css/",dooits:"domain:uploads/sitespecific/yoodoo.siteFolder/file/dooits/",overlay:"domain:uploads/sitespecific/yoodoo.siteFolder/file/overlay/",widgets:"domain:uploads/sitespecific/yoodoo.siteFolder/file/widgets/"},flash:"domain:uploads/sitespecific/yoodoo.siteFolder/flash/",image:"domain:uploads/sitespecific/yoodoo.siteFolder/image/"}}},cmd:{},site:{login_heading:'access your yoo<span class="doo">doo</span> content',welcome_title:'<div class="left">Welcome to </div><div class="yoodoo-medium left"></div>'},introMovie:null,visitedDooits:[],uploadFolder:"",animateDuration:500,nextBookDelay:1e3,log:!1,bookshelf:[],sitehash:"",checkedDependencies:!1,timeout:null,timeoutDelay:2e4,workingHeight:100,lastLoad:"",loginCode:"",username:"",loggedin:!1,days:10,loadedScriptFiles:[],loadedStyleSheets:[],frame:null,container:null,area:null,bookcaseLoaded:!1,first_login:!1,password_updated:!1,filenameMatcher:/\/([^\/^\.]+)\.css/i,jquery:{url:"overlay/jquery-1-11-0.js",version:"1.7.1",fetched:!1},additionaldependencies:[],stylesheets:[],visible:!1,ready:!1,landscape:!0,openAppOnRotate:!1,lastHTML:"",init:function(){if(this.clearUser(),this.checks.webkit(),this.option.detectUrl){for(var a=document.body.getElementsByTagName("SCRIPT"),b=0;b<a.length;b++)if(/\/yoodoo\d*\.js/.test(a[b].src)&&/^http/.test(a[b].src)){var c=a[b].src.match(/^((http|https):\/\/[^\/]+)/);yoodoo.option.baseUrl=c[0]+"/"}yoodoo.option.contentUrl=yoodoo.option.videoUrl=yoodoo.option.imageUrl=yoodoo.option.audioUrl=yoodoo.option.baseUrl}/feserver\-au/.test(yoodoo.option.baseUrl)&&(yoodoo.option.forceHTMLVideo=!0),this.widget=document.getElementById("yoodooWidget"),this.is_mouse===!1&&this.checks.mouse();for(var d=["yd_light","yd_dark"],e=[],f=0;f<d.length;f++)this.widget.className.match(d[f])&&e.push(d[f]);this.widget.className="yoodooBackground "+(this.isApp?"isApp":"isNotApp")+(this.webkit?" webkit":" notwebkit")+" "+e.join(" "),yoodoo.is_touch&&(this.widget.className+=" isTouch"),yoodoo.is_touch&&!yoodoo.is_mouse&&(this.widget.className+=" isTouchOnly"),yoodoo.is_mouse&&(this.widget.className+=" isMouse"),yoodoo.is_mouse&&!yoodoo.is_touch&&(this.widget.className+=" isMouseOnly"),1==yoodoo.metaphor?this.widget.className+=" metaphorOne":this.widget.className+=" metaphorTwo",this.widget.className+=" "+BrowserDetect.browser+BrowserDetect.version,this.widget.className+=" "+BrowserDetect.browser,arguments.length>3&&(this.fixedDimensions={width:arguments[2],height:arguments[3]}),"Explorer"==BrowserDetect.browser&&BrowserDetect.version<8?this.widget.innerHTML='<div style="font-size:1.3em;text-align:center;">This system is not supported for Internet Explorer 7 or below.<br />Either update your browser or try another, like <a href="https://www.google.com/chrome" target="_blank">Google Chrome</a> or <a href="http://www.mozilla.org/firefox" target="_blank"> Mozilla Firefox</a>.<br />If you are using IE8 or above, press F12 and check you are not viewing this in a "Compatibility view".</div>':("undefined"!=typeof yoodooSite||arguments.length>0)&&(this.loader("Loading..."),arguments.length>0?(this.sitehash=arguments[0],arguments.length>1&&(this.siteFolder=arguments[1])):"string"==typeof yoodooSite?this.sitehash=yoodooSite:(this.sitehash=yoodooSite[0],this.siteFolder=yoodooSite[1]),this.currentSiteFolder=this.siteFolder,this.checks.start())},loaderOn:!1,loader:function(a){if(!this.loaderOn||"string"==typeof a&&""!=a)if("undefined"!=typeof yoodooApp&&void 0!==yoodooApp.dialogue_show,1){if(void 0===this.loaderInfo){this.loaderInfo=document.createElement("div"),this.loaderInfo.style.width="100%",this.loaderInfo.style.margin="0px auto";var b=Math.floor((this.option.height-20)/2);this.loaderInfo.style.height="20px",this.loaderInfo.style.fontSize="14px",this.loaderInfo.style.fontFamily="Courier",this.loaderInfo.style.textAlign="center",this.loaderInfo.style.padding=b+"px 0px",this.isApp&&(this.loaderInfo.style.color="#fff"),this.widget.appendChild(this.loaderInfo)}this.loaderInfo.innerHTML=a}else yoodooApp.dialogue_show(window.JSON.stringify({text:a.replace(/\&hellip;/g,"..."),spinner:!0})),this.loaderOn=!0;else"undefined"!=typeof yoodooApp&&void 0!==yoodooApp.dialogue_hide,this.loaderInfo.parentNode.removeChild(this.loaderInfo),this.loaderInfo=void 0},defineScrollStop:function(a){$.fn.scrollStopped=function(a){$(this).scroll(function(){var b=this,c=$(b);c.data("scrollTimeout")&&clearTimeout(c.data("scrollTimeout")),c.data("scrollTimeout",setTimeout(a,250,b))})}},setSize:function(){if("object"!=typeof yoodooApp&&!this.isApp){if(this.html5&&this.option.autosize){var a=this.widget.clientWidth,b=this.widget.clientHeight;a>=this.option.width&&(this.option.width=a),b>=this.option.height&&(this.option.height=b)}null!==this.fixedDimensions&&(this.option.width=this.fixedDimensions.width,this.option.height=this.fixedDimensions.height),$(this.widget).css({width:this.option.width,height:this.option.height})}},postInit:function(){this.checks.mobile(),this.mobile&&this.changeOrientation(),this.checks.complexity(),this.defineEvents();var a=yoodoo.changeOrientation;if(this.canApp){try{window.removeEventListener("orientationchange",a,!1)}catch(b){yoodoo.errorLog(b)}window.addEventListener("orientationchange",a,!1)}this.mobile&&this.canApp&&!this.isApp&&"true"==localStorage.getItem("isApp")&&(this.landscape||(this.openAppOnRotate=!0)),void 0!==this.option.flashMovie&&(this.option.flashMovie.width=this.option.width,this.option.flashMovie.height=this.option.height,yoodoo.option.flashMovie.url=yoodoo.replaceDomain(yoodoo.option.flashMovie.url),yoodoo.option.width*=yoodoo.option.flashMovie.zoom,yoodoo.option.height*=yoodoo.option.flashMovie.zoom),void 0!==this.option.voiceoverMovie&&(yoodoo.option.voiceoverMovie.url=yoodoo.replaceDomain(yoodoo.option.voiceoverMovie.url),yoodoo.option.introMovie.url=yoodoo.replaceDomain(yoodoo.option.introMovie.url)),this.ajax===!0?yoodoo.option.yoodooPortal.url=yoodoo.replaceDomain(yoodoo.option.yoodooPortal.url.replace(/domain\:/,"/")):yoodoo.option.yoodooPortal.url=yoodoo.replaceDomain(yoodoo.option.yoodooPortal.url),yoodoo.option.dooitUrl=yoodoo.replaceDomain(yoodoo.option.dooitUrl),this.isApp&&window.scrollTo(0,1),this.loaded()},changeOrientation:function(){if(window.orientation%180==0)this.landscape=!1,this.isApp&&(document.body.className="portrait");else if(this.landscape=!0,this.isApp&&(document.body.className="landscape"),this.openAppOnRotate)return this.openAppOnRotate=!1,!1},openApp:function(){yoodoo.option.zoom=1,"ongesturestart"in document.documentElement?window.addEventListener("gesturestart",nopinch=function(a){a.preventDefault()}):(window.addEventListener("touchstart",nopinch=function(a){return a.touches.length>1?(a.preventDefault(),!1):void 0},!0),window.addEventListener("touchmove",nopinch=function(a){return a.touches.length>1?(a.preventDefault(),!1):void 0},!0)),document.body.innerHTML="";var a=0,b=0;document.body.innerHTML="",document.body.style.margin="0px",document.body.style.padding="0px",window.scrollTo(0,1),window.scrollTop=0,window.scrollLeft=0;var c=!1;if("Chrome"==BrowserDetect.browser&&"Android"==BrowserDetect.OS)a=window.innerWidth,b=window.innerHeight,b>a&&(b=window.innerWidth,a=window.innerHeight),c=!0;else if("iPad"==BrowserDetect.OS||"iPhone"==BrowserDetect.browser){var d=window.innerWidth/window.innerHeight;a=screen.width,b=screen.height,b>a&&(b=screen.width,a=screen.height),b=Math.round(a/d)}else a=window.outerWidth,b=window.outerHeight,b>a&&(b=window.outerWidth,a=window.outerHeight);if(b>a){var e=1*b;b=1*a,a=e}var f=1,d=a/b,g=a/yoodoo.option.width,h=b/yoodoo.option.height;g=1*g.toFixed(3),h=1*h.toFixed(3);var f=g,i=Math.round(a/f),j=Math.round(i/d);a=i,b=j,c&&(f=1/f);var k=this.option.baseUrl+"players/htmlplayer.php?sitecode="+this.sitehash+"&site="+this.siteFolder+"&zoom="+f+"&width="+Math.round(a)+"&height="+Math.round(b);return null!==parent?parent.location.href=k:window.location=k,!1},getFilePath:function(a){var b=a.split("."),c=!0;arguments.length>1&&(c=arguments[1]);var d=this.option.urls[c?"generic":"specific"],e=[];if(b.length>0){"undefined"==typeof d[b[0]]&&b.splice(0,0,"file");for(var f=0;f<b.length;f++)"undefined"!=typeof d[b[f]]&&0==e.length?d=d[b[f]]:e.push(b[f])}return e.length>0&&(d+=e.join("/")+"/"),arguments.length>2&&(d=d.replace("yoodoo.siteFolder",arguments[2])),d=this.replaceDomain(d)},replaceDomain:function(a){return null===a?null:(/domain\:[^\/]/.test(a)&&(a=a.replace(/domain\:/,"domain:/")),a=a.replace(/videodomain\:/,yoodoo.option.videoUrl),a=a.replace(/audiodomain\:/,yoodoo.option.audioUrl),a=a.replace(/imagedomain\:/,yoodoo.option.imageUrl),a=a.replace(/domain\:/,yoodoo.option.baseUrl),a=a.replace("yoodoo.siteFolder",yoodoo.currentSiteFolder))},defineEvents:function(){this.events.batchRegister({loadDooit:"When a doo-it is loaded (returns the id and title)",loadPlayit:"When a play-it is loaded (returns the id and title)",showLogin:"When the login page is shown (returns true)",showHome:"When the user Home page is shown (returns true)",bookcaseLoaded:"When the bookcase is parsed (returns the item in the bookcase)",login:"When a user attempts login (returns the username)",loggedin:"When a user successfully logins in (returns the username)",userInformation:"When the user information is loaded (returns a user object)",logout:"When a user logs out",loadQuiz:"When a quiz is fetched (returns the quiz id)",meta:"When user meta data is updated (returns the meta key and value)",tagUnset:"When a user tag is unset (returns the tag name)",tagSet:"When a user tag is set (returns the tag name)",progress:"When the user progress is defined or updated (returns a progress object)",saveDooit:"When a dooit saves data (returns the dooit object and data)",loadScrapbook:"When the scrapbook is requested",scrapbookPlayit:"When a playit, chapter or keypoint is scrapbooked (returns the playit object)",scrapbookDooit:"When a dooit is scrapbooked (returns the dooit object)",snapshot:"When a dooit is snapshot (returns the dooit object and the dooit snapshot data)",commentScrapbook:"When comment is posted in the scrapbook, from the scrapbook or a dooit (returns the comment and the dooit or scrapbook item object)",widgetsComplete:"When widgets are displayed"})},plugins:{objects:{},buffer:[],register:function(a){return void 0!=this.objects[a]?this.objects[a]:(this.objects[a]={name:a,handlers:function(){return yoodoo.events.getPluginHandlers(this.name)},addHandler:function(a,b){return yoodoo.plugins.addHandler(a,this.name,b)},unregister:function(){yoodoo.plugins.unregister(this.name)}},this.objects[a])},unregister:function(a){yoodoo.events.removePluginHandlers(a),void 0!=this.objects[a]&&(this.objects[a]=void 0)},find:function(a){return void 0==this.objects[a]?null:this.objects[a]},addHandler:function(a,b,c){return yoodoo.ready?void 0!=this.objects[b]?yoodoo.events.addPluginHandler(a,b,c):!1:(this.buffer.push([a,b,c]),!1)},readyBuffer:[],whenReady:function(a){yoodoo.ready?a():this.readyBuffer.push(a)},ready:function(){for(;this.readyBuffer.length>0;){var a=this.readyBuffer.pop();a()}for(;this.buffer.length>0;){var b=this.buffer.pop();return yoodoo.events.addPluginHandler(b[0],b[1],b[2])}}},events:{objects:{},batchRegister:function(a){for(var b in a)this.register(b,a[b])},register:function(a,b){return void 0!=this.objects[a]?"Already exists":void(this.objects[a]={name:a,trigger:function(){for(var a=0;a<this.handlers.length;a++)try{this.handlers[a][1](this,arguments[0])}catch(b){yoodoo.errorLog(b)}},handlers:[],description:b,addHandler:function(a,b){this.handlers.push([a,b])},removePluginHandlers:function(a){for(var b=this.handlers.length-1;b>=0;b--)this.handlers[b][0]==a&&this.handlers.splice(b,0)},pluginAttached:function(a){for(var b=this.handlers.length-1;b>=0;b--)if(this.handlers[b][0]==a)return!0;return!1}})},removePluginHandlers:function(a){for(var b in this.objects)void 0!=this.objects[b]&&this.objects[b].removePluginHandlers(a)},removePluginHandler:function(a,b){void 0!=this.objects[a]&&this.objects[a].removePluginHandlers(b)},unregister:function(a){void 0!=this.objects[a]&&(this.objects[a]=void 0)},trigger:function(a){var b={};arguments.length>1&&(b=arguments[1]),void 0!=this.objects[a]&&this.objects[a].trigger(a,b)},addPluginHandler:function(a,b,c){return void 0!=this.objects[a]?(this.objects[a].addHandler(b,c),!0):!1},list:function(){var a={};for(var b in this.objects)void 0!=this.objects[b]&&(a[b]=this.objects[b].description);return a},getPluginHandlers:function(a){var b=[];for(var c in this.objects)void 0!=this.objects[c]&&this.objects[c].pluginAttached(a)&&b.push(this.objects[c]);return b}},checks:{index:null,start:function(){this.index=-1,this.next()},next:function(){this.index+=arguments.length>0?parseInt(arguments[0]):1,this.index<this.functions.length&&this.functions[this.index]()},functions:[function(){yoodoo.checks.Jquery.check()},function(){var a=[["overlay/yoodooExtension6_2.min.js",!0,null,!1]];yoodoo.loadVersions!==!1&&(a.push(["overlay/yoodoo_versions.js",!0]),a.push(["overlay/yoodoo_versions.js",!1])),yoodoo.loadVersions=!1,yoodoo.loader("Loading configuration&hellip;");new yoodoo.fileLoader.loader(a,function(a){a?yoodoo.checks.next():yoodoo.noInternet()})},function(){yoodoo.defineScrollStop(),yoodoo.checks.html(),yoodoo.checks.ajax(),yoodoo.setSize();var a=[];switch(yoodoo.metaphor){case 1:yoodoo.html5?yoodoo.dev?(a.push(["overlay/yoodooPlaya.js",!0]),a.push(["overlay/yoodooQuiz.js",!0]),a.push(["overlay/yoodooQuiz.css",!0])):a.push(["overlay/yoodoohtml.js",!0]):yoodoo.dev?(a.push(["dooits/jquery-ui.js",!0]),a.push(["overlay/jquery_transit.js",!0]),a.push(["overlay/dooit.js",!0]),a.push(["overlay/yoodooLanguage.js",!0]),a.push(["overlay/yoodooObject.js",!0]),a.push(["overlay/yoodooIcons.js",!0]),a.push(["overlay/yoodooStyler.js",!0]),a.push(["overlay/yoodooMetaphorOne.js",!0]),a.push(["overlay/yoodooInterface.js",!0]),a.push(["overlay/yoodooBookcase.js",!0]),a.push(["overlay/yoodooComments.js",!0]),a.push(["overlay/yoodooAdvisor.js",!0]),a.push(["overlay/yoodooGroups.js",!0]),a.push(["overlay/yoodooUi.js",!0])):a.push(["overlay/yoodooplus.js",!0]),yoodoo.keywordSearch===!0&&(a.push(["overlay/yoodooKeywordSearch.js",!0]),a.push(["overlay/yoodooKeywordSearch.css",!0])),a.push(["overlay/yoodooPlaya.css",!0]),a.push(["overlay/yoodooMetaphorOne.css",!0]),a.push([[["Explorer","<=9"],"overlay/yoodoo_widget_ie9.css"],!0]),a.push([[["Explorer","==8"],"overlay/yoodoo_widget_ie8.css"],!0]),a.push([[["Explorer","<=9 && BrowserDetect.docMode==7"],"overlay/yoodoo_widget_ie7.css"],!0]);break;case 2:a.push(["dooits/jquery-ui.js",!0]),a.push(["overlay/jquery_transit.js",!0]),a.push(["overlay/dooit.js",!0]),a.push(["overlay/yoodooLanguage.js",!0]),a.push(["overlay/yoodooObject.js",!0]),a.push(["overlay/yoodooIcons.js",!0]),a.push(["overlay/yoodooStyler.js",!0]),a.push(["overlay/yoodooMetaphorTwo.js",!0]),a.push(["overlay/yoodooUi.js",!0]),a.push(["overlay/yoodooInterface.js",!0]),a.push(["overlay/yoodooHub.js",!0]),a.push(["overlay/yoodooUi.css",!0]),a.push(["overlay/yoodooMetaphorTwo.css",!0]),a.push(["overlay/yoodooComments.js",!0]),a.push(["overlay/yoodooSessions.js",!0]),a.push(["overlay/yoodooPresenter.js",!0])}yoodoo.loader("Loading core files&hellip;");new yoodoo.fileLoader.loader(a,function(a){a?yoodoo.html5||2==yoodoo.metaphor?yoodoo.checks.next():yoodoo.checks.swfObject():yoodoo.noInternet()})},function(){1==yoodoo.metaphor&&(yoodoo.cmd=yoodoo.html5?yoodoo.cmdHTML5:yoodoo.cmdFlash);var a=[["overlay/yoodooLanguageData.js",!0]];yoodoo.is_touch&&a.push(["dooits/jquery-ui-touch.js",!0]),yoodoo.loader("Loading Language&hellip;");new yoodoo.fileLoader.loader(a,function(a){if(a)if(yoodoo.additionaldependencies.length>0){new yoodoo.fileLoader.loader(yoodoo.additionaldependencies,function(a){a?yoodoo.checks.next():yoodoo.noInternet()})}else yoodoo.checks.next();else yoodoo.noInternet()})},function(){yoodoo.onceLoaded.run(),yoodoo.postInit()}],Jquery:{fetched:!1,check:function(){if("undefined"!=typeof jQuery){if(this.fetched===!1){for(var a=$().jquery.split("."),b=yoodoo.jquery.version.split(".");b.length<a.length;)b.push(0);for(;a.length<b.length;)a.push(0);for(var c=0;c<b.length;c++){if(a[c]>b[c]){"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log("jQuery version used is higher than "+yoodoo.jquery.version+" that is recommended");break}if(a[c]<b[c]){"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log("jQuery version "+yoodoo.jquery.version+" recommended");break}}}yoodoo.checks.next()}else if(this.fetched===!1){this.fetched=!0,yoodoo.loader("Loading jquery&hellip;");new yoodoo.fileLoader.loader([[yoodoo.jquery.url,!0,null,!1]],yoodoo.checks.Jquery.check)}}},complexity:function(){var a=0;switch(BrowserDetect.OS){case"iPad":a=1;break;case"iPhone":a=1;break;case"Android":a="Chrome"==BrowserDetect.browser?2:1;break;default:a=0}return yoodoo.renderComplexity=a,a},html:function(){yoodoo.metaphor>1&&(yoodoo.htmldetect=!0);try{var a=document.createElement("canvas");if(yoodoo.canHTML=!(!a.getContext||!a.getContext("2d")),yoodoo.canHTML){var b=document.createElement("audio");yoodoo.canHTML=!!b.canPlayType}}catch(c){yoodoo.errorLog(c),yoodoo.canHTML=!1}yoodoo.htmldetect&&yoodoo.canHTML&&(yoodoo.html5=!0,yoodoo.html5available=yoodoo.html5,1==yoodoo.metaphor&&yoodoo.flashdefault&&this.flash()&&(yoodoo.html5=!1))},flash:function(){if(navigator&&navigator.plugins&&navigator.plugins.length>0){for(var a=0;a<navigator.plugins.length;a++)if(/Shockwave Flash/.test(navigator.plugins[a].name))return!0}else if(-1==navigator.appVersion.indexOf("Mac")&&window.execScript)try{return tmp=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0}catch(b){yoodoo.errorLog(b)}return!1},mouse:function(){window.addEventListener("mousemove",findMouse=function(){yoodoo.is_mouse=!0,yoodoo.widget.className=yoodoo.widget.className+" is_mouse",window.removeEventListener("mousemove",findMouse)})},mobile:function(){yoodoo.mobile=yoodoo.is_touch},webkit:function(){yoodoo.webkit=navigator&&navigator.userAgent&&/webkit/i.test(navigator.userAgent)},app:function(){return"undefined"!=typeof yoodooApp&&void 0!==yoodooApp.user_getUserhash&&(yoodoo.loginCode=yoodooApp.user_getUserhash(),""!=yoodoo.loginCode)?yoodoo.loginCode:!1},ajax:function(){var a=void 0!==window.location.origin?window.location.origin:"http://"+window.location.hostname;/^http/.test(a)||(a="http://"+a),yoodoo.ajax=a.replace(/^[^\/]*\/\//,"").replace(/\/.*$/,"").toLowerCase()==yoodoo.option.baseUrl.replace(/^[^\/]*\/\//,"").replace(/\/.*$/,"").toLowerCase()},userMedia:function(){return!!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)}},call:function(a,b){return"function"==typeof this[a]?null===b?this[a]():this[a](b):void 0},noInternet:function(){this.alert("You seem to have a connection problem.\nChecking internet connection..."),this.testImage=document.createElement("img"),$(this.testImage).css("display","none"),this.testImage.src="http://www.google.com/images/logo.png",this.testImage.setAttribute("onerror","yoodoo.noConnection()"),this.testImage.setAttribute("onload","yoodoo.noServer()"),document.body.appendChild(this.testImage)},noConnection:function(){$(this.testImage).remove(),this.alert("Your internet connection seems to be missing")},noServer:function(){$(this.testImage).remove(),this.alert("Apologies... the Yoodoo server seems to be down")},fileVersions:[],versioning:function(a){var b=!1;if(arguments.length>1&&(b=arguments[1]),"undefined"==typeof this.fileVersions[this.currentSiteFolder]&&(this.fileVersions[this.currentSiteFolder]={generic:{js:{},css:{}},specific:{js:{},css:{}}}),"undefined"!=typeof a.generic){if("undefined"!=typeof a.generic.js)for(var c in a.generic.js)"string"==typeof this.fileVersions[this.currentSiteFolder].generic.js[c]&&b||(this.fileVersions[this.currentSiteFolder].generic.js[c]=a.generic.js[c]);if("undefined"!=typeof a.generic.css)for(var c in a.generic.css)"string"==typeof this.fileVersions[this.currentSiteFolder].generic.css[c]&&b||(this.fileVersions[this.currentSiteFolder].generic.css[c]=a.generic.css[c])}if("undefined"!=typeof a.specific){if("undefined"!=typeof a.specific.js)for(var c in a.specific.js)"string"==typeof this.fileVersions[this.currentSiteFolder].specific.js[c]&&b||(this.fileVersions[this.currentSiteFolder].specific.js[c]=a.specific.js[c]);if("undefined"!=typeof a.specific.css)for(var c in a.specific.css)"string"==typeof this.fileVersions[this.currentSiteFolder].specific.css[c]&&b||(this.fileVersions[this.currentSiteFolder].specific.css[c]=a.specific.css[c])}},loadFailed:function(){yoodoo.console("Failed to load the file dependents")},checkSiteVersions:function(){if("undefined"!=typeof this.fileVersions[this.currentSiteFolder])yoodoo.runInitThis();else{new this.fileLoader.loader([["overlay/yoodoo_versions.js",!1]],function(){yoodoo.runInitThis()})}},fileLoader:{fetching:{},loaded:{},loader:function(list,callback){this.options={cssCheckDelay:200,timeout:20},this.active=!1,this.files=[],this.list=list,this.fetching={},this.loaded={},this.callback=callback,this.start=function(){var me=this;this.active=!0;for(var process=!1,i=0;i<this.list.length;i++){var ok=!0;if("undefined"==typeof this.list[i]&&(ok=!1),"undefined"!=typeof this.list[i]&&"string"!=typeof this.list[i][0])if(ok=!1,"object"==typeof this.list[i][0][0]){if(BrowserDetect.browser==this.list[i][0][0][0])try{eval("ok=(BrowserDetect.version"+this.list[i][0][0][1]+");")}catch(e){yoodoo.errorLog(e)}}else"string"==typeof this.list[i][0][0]&&(ok=BrowserDetect.browser==this.list[i][0][0]);if(ok){var file=yoodoo.fileLoader.fileVersionUpdate(this.list[i]);file!==!1&&void 0===this.fetching[file.filename]&&void 0===yoodoo.fileLoader.loaded[file.filename.replace(/\?\d*$/,"")]&&void 0===this.loaded[file.filename.replace(/\?\d*$/,"")]&&(this.fetching[file.filename]=file,process=!0)}}process?(this.addFiles(),this.timeoutObject=setTimeout(function(){me.active=!1,me.checkComplete()},1e3*me.options.timeout)):this.callback(!0)},this.removeFiles=function(){for(;this.files.length>0;){var a=this.files.pop();$(a).remove()}for(var b in this.fetching)yoodoo.fileLoader.fetching[b]=void 0;for(var b in this.loaded)yoodoo.fileLoader.loaded[b]=void 0;this.files=[],this.fetching={},this.loaded={}},this.checkComplete=function(){var a=this.notLoaded();a.waiting>=0&&void 0!==yoodoo.loaderInfo&&yoodoo.loader("Loading "+(a.total-a.waiting)+"/"+a.total+"&hellip;"),0==a.waiting?(this.active=!1,this.callback(!0),clearTimeout(this.timeoutObject),clearInterval(this.timedChecker)):this.active===!1&&(console.log("Timed out"),clearTimeout(this.timeoutObject),clearInterval(this.timedChecker),this.callback(!1)&&this.failed())},this.isComplete=function(){return 0==this.notLoaded().waiting},this.notLoaded=function(){var a=0,b=0;for(var c in this.fetching)void 0===yoodoo.fileLoader.fetching[c]&&(this.fetching[c]=void 0),void 0!==this.fetching[c]&&a++,b++;return{waiting:a,total:b}},this.failed=function(){var a=this.notLoaded();a>0&&yoodoo.alert(a+" file"+(0==a?"":"s")+" failed to load")},this.addFiles=function(){var a=!1;for(var b in this.fetching)if(void 0!==this.fetching[b])if(void 0!==yoodoo.fileLoader.fetching[b])a=!0;else{var c=this.fetching[b];yoodoo.fileLoader.fetching[b]=c;var d=(c.filename,null);if("js"==c.type)d=document.createElement("SCRIPT"),d.src=c.filename,d.filename=c.filename.replace(/\?\d*$/,""),d.fileObj=c,d.loader=this,d.type="text/javascript",d.onload=function(){this.isloaded!==!0&&(this.isloaded=!0,this.loader.fetching[this.fileObj.filename]=void 0,this.loader.loaded[this.filename]=this.fileObj,yoodoo.fileLoader.fetching[this.fileObj.filename]=void 0,yoodoo.fileLoader.loaded[this.filename]=this.fileObj,this.loader.checkComplete())},d.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&this.isloaded!==!0&&(this.isloaded=!0,this.loader.fetching[this.fileObj.filename]=void 0,this.loader.loaded[this.filename]=this.fileObj,yoodoo.fileLoader.fetching[this.fileObj.filename]=void 0,yoodoo.fileLoader.loaded[this.filename]=this.fileObj,this.loader.checkComplete())};else{d=document.createElement("LINK"),d.href=c.filename,d.type="text/css",d.rel="stylesheet";var e=document.createElement("DIV");e.innerHTML="&nbsp;",e.style.position="fixed",e.style.top="-10px",e.style.fontSize="4px",e.fileObj=c,e.filename=c.filename.replace(/\?\d*$/,"");var f=c.filename.match(yoodoo.filenameMatcher);f="cssDetector_"+f[1].replace(/-/g,"_"),e.className=f+" yoodooCssDependencyItem",document.body.appendChild(e),e.loader=this,e.cssDivChecker=function(){if(this.loader.active)if(0==this.clientWidth)this.loader.fetching[this.fileObj.filename]=void 0,this.loader.loaded[this.filename]=this.fileObj,yoodoo.fileLoader.fetching[this.fileObj.filename]=void 0,yoodoo.fileLoader.loaded[this.filename]=this.fileObj,this.parentElement.removeChild(this),this.loader.checkComplete();else{var a=this;setTimeout(function(){a.cssDivChecker()},this.loader.options.cssCheckDelay)}else this.parentElement.removeChild(this)},e.cssDivChecker()}if(null!==d){this.files.push(d);var g=document.getElementsByTagName("head")[0];g.appendChild(d)}}if(a){var h=this;this.timedChecker=setInterval(function(){h.checkComplete()},500)}},this.start()},fileVersionUpdate:function(a){var b="string"==typeof a?a:"string"==typeof a[0]?a[0]:a[0][1],c=b.split("/"),d=c.pop(),e="string"==typeof a?"false":"undefined"!=typeof a[1]?a[1]:!0,f=/\.js/.test(d);if(0==c.length&&(c=f?["dooit"]:["css"]),a.length>2&&null!==a[2])var g=yoodoo.getFilePath(c.join("."),e,a[2]);else var g=yoodoo.getFilePath(c.join("."),e);var h=null,i=d.replace(f?".js":".css",""),j=!1;a.length>3&&a[3]===!1&&(j=!0,h=""),j===!1&&("undefined"!=typeof yoodoo.fileVersions[yoodoo.currentSiteFolder]&&"undefined"!=typeof yoodoo.fileVersions[yoodoo.currentSiteFolder][e?"generic":"specific"][f?"js":"css"][i]?h=yoodoo.fileVersions[yoodoo.currentSiteFolder][e?"generic":"specific"][f?"js":"css"][i]:"undefined"!=typeof yoodoo.fileVersions[yoodoo.siteFolder]&&"undefined"!=typeof yoodoo.fileVersions[yoodoo.siteFolder][e?"generic":"specific"][f?"js":"css"][i]&&(h=yoodoo.fileVersions[yoodoo.siteFolder][e?"generic":"specific"][f?"js":"css"][i]));var k=g+d+"?"+(new Date).getTime();return null!==h&&(k=g+d.replace(f?".js":".css",h+(f?".js":".css"))),{filename:k,type:f?"js":"css"}}},onLoadActions:[],onLoad:function(str){if(this.ready)try{eval(str)}catch(e){yoodoo.errorLog(e)}else this.onLoadActions.push(str)},doLoadActions:function(){for(;this.onLoadActions.length>0;){var str=this.onLoadActions.splice(0,1)[0];try{eval(str)}catch(e){yoodoo.errorLog(e)}}},console:function(a){"undefined"!=typeof console&&this.log&&"undefined"!=typeof console.log&&console.log(a)},clearMetaCache:function(){this.user.metaUpdate={}}},dooit={finishable:function(){return!1}},BrowserDetect={init:function(){if(this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS",this.docMode=null,"Explorer"==this.browser&&this.version<8)try{/Trident/.test(navigator.userAgent)&&(this.version=8)}catch(a){}else"Explorer"==this.browser&&/Trident\/7/.test(navigator.userAgent)&&(this.version=11);if("Explorer"==this.browser)try{isNaN(document.documentMode)||(this.docMode=document.documentMode)}catch(a){yoodoo.errorLog(a)}},searchString:function(a){for(var b=0;b<a.length;b++){var c=a[b].s,d=a[b].p;if(this.versionSearchString=a[b].vs||a[b].i,c){if(-1!=c.indexOf(a[b].ss))return a[b].i}else if(d)return a[b].i}},searchVersion:function(a){var b=a.indexOf(this.versionSearchString);if(-1!=b)return parseFloat(a.substring(b+this.versionSearchString.length+1))},dataBrowser:[{s:navigator.userAgent,ss:"Edge",i:"Edge"},{s:navigator.userAgent,ss:"Chrome",i:"Chrome"},{s:navigator.userAgent,ss:"OmniWeb",vs:"OmniWeb/",i:"OmniWeb"},{s:navigator.userAgent,ss:"iPad",i:"iPad OS"},{s:navigator.userAgent,ss:"iPhone",i:"iPhone OS"},{s:navigator.vendor,ss:"Apple",i:"Safari",vs:"Version"},{p:window.opera,i:"Opera",vs:"Version"},{s:navigator.vendor,ss:"iCab",i:"iCab"},{s:navigator.vendor,ss:"KDE",i:"Konqueror"},{s:navigator.userAgent,ss:"Firefox",i:"Firefox"},{s:navigator.vendor,ss:"Camino",i:"Camino"},{s:navigator.userAgent,ss:"Netscape",i:"Netscape"},{s:navigator.userAgent,ss:"MSIE",i:"Explorer",vs:"MSIE"},{s:navigator.userAgent,ss:"Trident/7",i:"Explorer",vs:"MSIE"},{s:navigator.userAgent,ss:"Android",i:"Android"},{s:navigator.userAgent,ss:"Gecko",i:"Mozilla",vs:"rv"},{s:navigator.userAgent,ss:"Mozilla",i:"Netscape",vs:"Mozilla"}],dataOS:[{s:navigator.platform,ss:"Win",i:"Windows"},{s:navigator.platform,ss:"Mac",i:"Mac"},{s:navigator.userAgent,ss:"iPhone",i:"iPhone"},{s:navigator.userAgent,ss:"iPad",i:"iPad"},{s:navigator.userAgent,ss:"Android",i:"Android"},{s:navigator.platform,ss:"Linux",i:"Linux"}]};BrowserDetect.init(),yoodoo.findindex=function(a,b){for(var c=0;c<b.length;c++)if(b[c]===a)return c;return-1},yoodoo.parseJSON=function(str){var tmp=null;try{eval("tmp="+str+";")}catch(e){yoodoo.errorLog(e)}return tmp},yoodoo.styles={icons:{light:!0,dark:!1},boundary:{radius:5},base:{r:22,g:39,b:63,tint:{l:[.3,.2,0,.05],b:[0,0,0,0],lightness:0,brightness:.8}},backgroundImage:null,highlight:{l:.1,b:2},warning:{r:124,g:72,b:54,tint:{l:[.3,.2,0,.05],b:[0,0,0,0],lightness:0,brightness:0},gloss:!1},text:{r:255,g:255,b:255},dooittext:{r:50,g:50,b:50},link:{r:255,g:255,b:255},linkHover:{r:150,g:150,b:255},button:{colour:{r:72,g:111,b:163,tint:{l:[.3,.2,0,.05],b:[0,0,0,0],lightness:0,brightness:0},gloss:!0},colourHover:{
r:72,g:111,b:163,tint:{l:[.35,.2,0,.15],b:[0,0,0,.2],lightness:0,brightness:0},gloss:!0},colourOn:{r:72,g:111,b:163,tint:{l:[.3,.2,0,.05],b:[0,0,0,0],lightness:0,brightness:0},gloss:!0},colourOnHover:{r:72,g:111,b:163,tint:{l:[.35,.2,0,.15],b:[0,0,0,.2],lightness:0,brightness:0},gloss:!0},colourOff:{r:114,g:118,b:123,tint:{l:[.35,.2,0,.15],b:[0,0,0,.2],lightness:0,brightness:0},gloss:!0},colourOffHover:{r:0,g:141,b:179,tint:{l:[.35,.2,0,.15],b:[0,0,0,.2],lightness:0,brightness:0},gloss:!0}},book:{colour:{r:190,g:190,b:190,tint:{l:[.3,.2,0,.05],b:[0,0,0,0],lightness:.1,brightness:.2},gloss:!1},spine:{r:22,g:48,b:87,tint:{l:[.3,.2,0,.05],b:[0,0,0,0],lightness:.1,brightness:.2},gloss:!1},topic:{r:0,g:0,b:0,tint:{l:[.3,.2,0,.05],b:[0,0,0,0],lightness:.1,brightness:.1},gloss:!1,adjust:{lightness:-.1,brightness:-.1}},border:{width:1,r:151,g:170,b:198},text:{r:50,g:50,b:50},spinetext:{r:200,g:200,b:200},topictext:{r:100,g:100,b:100},radius:5},overlay:{background:{r:255,g:255,b:255,a:.2},text:{r:200,g:200,b:200},link:{r:200,g:200,b:255},linkHover:{r:150,g:150,b:255}},h2:{r:0,g:174,b:254},h3:{r:0,g:174,b:254},progress:{background:{r:72,g:111,b:163,tint:{l:[.3,.2,0,.05],b:[0,0,0,0],lightness:0,brightness:0},gloss:!0},bar:{r:44,g:183,b:219,tint:{l:[.3,.2,0,.05],b:[0,0,0,0],lightness:0,brightness:0},gloss:!0},buffer:{r:92,g:131,b:183,tint:{l:[.3,.2,0,.05],b:[0,0,0,0],lightness:0,brightness:0},gloss:!0}},keypoint:{text:{r:70,g:70,b:70},background:{r:250,g:250,b:250,tint:{l:[.3,.2,0,.05],b:[0,0,0,0],lightness:0,brightness:-.1},gloss:!1}},keypoints:{text:{r:255,g:255,b:255},background:{r:72,g:111,b:163,tint:{l:[.3,.2,0,.05],b:[0,0,0,0],lightness:0,brightness:0},gloss:!0},options:{r:72,g:111,b:163,tint:{l:[.3,.2,0,.05],b:[0,0,0,0],lightness:0,brightness:0},gloss:!0},past:{text:{r:255,g:255,b:255},background:{r:100,g:100,b:100,tint:{l:[.3,.2,0,.05],b:[0,0,0,0],lightness:0,brightness:0},gloss:!0}},current:{text:{r:255,g:255,b:255},background:{r:0,g:0,b:100,tint:{l:[.3,.2,0,.05],b:[0,0,0,0],lightness:0,brightness:0},gloss:!0}}},episodeOverlay:{text:{r:255,g:255,b:255},background:{r:22,g:39,b:63,tint:{l:[.3,.2,0,.05],b:[0,0,0,0],lightness:0,brightness:.8},gloss:!1}},toolbar:{text:{r:226,g:226,b:226},background:{r:47,g:47,b:47},button:{background:{r:47,g:47,b:47},hover:{r:68,g:68,b:68},on:{r:239,g:243,b:247},text:{r:255,g:255,b:255},textHover:{r:255,g:255,b:255},textOn:{r:0,g:0,b:0}},done:{background:{r:62,g:192,b:62},backgroundHover:{r:58,g:239,b:58},text:{r:255,g:255,b:255},textHover:{r:0,g:0,b:0}},dialog:{background:{r:239,g:243,b:247},text:{r:0,g:0,b:0},buttonbackground:{r:135,g:135,b:135},buttontext:{r:255,g:255,b:255},buttonbackgroundHover:{r:67,g:67,b:67},buttontextHover:{r:255,g:255,b:255}}},widget:{text:{r:50,g:50,b:50},background:{r:255,g:255,b:255,tint:{l:[.3,.2,0,.05],b:[0,0,0,0],lightness:0,brightness:-.1},gloss:!1}}};
//# sourceMappingURL=yoodoo.map